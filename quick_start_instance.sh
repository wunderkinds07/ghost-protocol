#!/bin/bash
# Quick start script for running on instance

# Simple one-liner to get started
echo "üöÄ Quick Start Commands for Instance Deployment"
echo "=============================================="
echo ""
echo "1Ô∏è‚É£ Automated deployment (from local machine):"
echo "   ./deploy_to_instance.sh ubuntu YOUR_INSTANCE_IP"
echo ""
echo "2Ô∏è‚É£ Quick test with single container (on instance):"
echo "   docker run -d --name test-extractor \\"
echo "     -e CONTAINER_ID=1 \\"
echo "     -e URL_CHUNK_START=0 \\"
echo "     -e URL_CHUNK_SIZE=20 \\"
echo "     -v \$(pwd)/data:/app/data \\"
echo "     1stdibs-extractor"
echo ""
echo "3Ô∏è‚É£ Production run with 10 containers (on instance):"
echo "   for i in {1..10}; do"
echo "     docker run -d --name extractor-\$i \\"
echo "       -e CONTAINER_ID=\$i \\"
echo "       -e URL_CHUNK_START=\$(( (\$i - 1) * 5000 )) \\"
echo "       -e URL_CHUNK_SIZE=5000 \\"
echo "       -v \$(pwd)/data/container\$i:/app/data \\"
echo "       1stdibs-extractor"
echo "   done"
echo ""
echo "4Ô∏è‚É£ Monitor all containers:"
echo "   watch -n 5 'docker ps --filter name=extractor'"
echo ""
echo "5Ô∏è‚É£ Get notifications on your phone:"
echo "   # Install ntfy.sh app and subscribe to: 1stdibs-extraction-1"
echo ""
echo "6Ô∏è‚É£ Check results:"
echo "   find data -name '*.json' | wc -l  # Count extracted products"
echo "   tail -f data/container1/logs/extraction.log  # View logs"